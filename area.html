<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>츼rea bajo la funci칩n</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
  <script src="/static/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
</head>
<body>
  <header>
    <div class="logotipo-title">
      <img src="/static/logotipo.jpeg" alt="logo" class="logo">
      <h1>Proyecto C치lculo II</h1>
    </div>
    <nav>
      <a href="/templates/index.html">Inicio</a>
      <a href="/tecnicas">T칠cnicas</a>
      <a href="/quienes">Qui칠nes somos</a>
      <input id="search" type="text" placeholder="Buscar tema..">
      <button>游댌</button>
    </nav>
  </header>

  <main class="contenido">
    <h2>츼rea bajo una funci칩n</h2>

    <section>
      <h3>Definici칩n</h3>
      <p>El 치rea exacta entre \(f(x)\) y el eje \(x\) en \([a,b]\) es \( \int_a^b f(x)\,dx\). Si quieres 치rea absoluta (si cruza el eje) usa \( \int_a^b |f(x)| dx.\)</p>
    </section>

    <section>
      <h3>Ejemplo</h3>
      <div class="example">
        츼rea entre \(f(x)=x\) y \(g(x)=x^2\) en \([0,1]\): \( \int_0^1 (x - x^2) dx = \tfrac{1}{6}.\)
      </div>
    </section>

    <section>
      <h3>Calculadora (치rea definida)</h3>
      <div class="calculadora">
        <input id="funcArea" placeholder="Ej: x - x**2">
        <input id="aArea" placeholder="a">
        <input id="bArea" placeholder="b">
        <button id="btnArea" class="btn">Calcular 치rea</button>
        <div class="resultado">
          <h3>Resultado:</h3>
          <p id="respArea" class="resultado-texto"></p>
          <h4>Pasos:</h4>
          <p id="pasosArea" class="resultado-pasos"></p>
        </div>
      </div>
    </section>

  </main>

  <footer><p>&copy; 2025 Proyecto C치lculo II</p></footer>

  <script>
    document.getElementById("btnArea").addEventListener("click", async () => {
      const f = document.getElementById("funcArea").value.trim();
      const a = document.getElementById("aArea").value.trim();
      const b = document.getElementById("bArea").value.trim();
      const resp = document.getElementById("respArea");
      const pasos = document.getElementById("pasosArea");
      try {
        const response = await fetch("/api/integral_definida", {
          method: "POST",
          headers: {"Content-Type":"application/json"},
          body: JSON.stringify({ funcion: f, a: a, b: b })
        });
        const data = await response.json();
        if (data.resultado) {
          resp.innerText = data.resultado;
          pasos.innerText = data.pasos;
        } else {
          resp.innerText = "Error: " + (data.error || "respuesta vac칤a");
          pasos.innerText = "";
        }
      } catch (err) {
        resp.innerText = "Error en la petici칩n: " + err;
        pasos.innerText = "";
      }
    });
  </script>
</body>
</html>